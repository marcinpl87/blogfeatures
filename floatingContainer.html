<html>
<body>
<!--
  This is only a HTML wrapper for JS,
  before you paste this script to your website
  create a container <div class="widget-wrap"></div>
  and put the content you want to float to that div.
-->

<style media="screen" type="text/css">
  .floatingContainer {
    position: fixed;
    top: 0;
  }
</style>

<script type="text/javascript"
src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript">
  var startScrollingPosition = 138; //script will start scrolling on this pixel (from top)
  var footerHeight = 250; //script will stop scrolling on this pixel (from bottom)
  var containerHandler = ".widget-wrap";
  function divPositioning() {
    var bottomEdge = $('.floatingContainer').offset().top + $('.floatingContainer').height();
  	var maxBottom = $(document).height() - footerHeight;
  	var diff = maxBottom - bottomEdge;
  	if (diff <= 0) {
  		$('.floatingContainer').css('top', parseInt($('.floatingContainer').css('top')) + diff);
  	}
  	else {
  		$('.floatingContainer').css('top', 0);
  	}
  }
  $(function(){
    $(window).scroll(function() {
      var currentPosition = $(window).scrollTop();
      if (currentPosition >= startScrollingPosition) {
        $(containerHandler).addClass("floatingContainer");
      }
      else {
        $(containerHandler).removeClass("floatingContainer");
      }
      divPositioning();
    });
  });
</script>

</body>
</html>
